# network interface settings; autogenerated by Ansible
# Please do NOT modify this file directly, unless you know what
# you're doing.

source /etc/network/interfaces.d/*

auto lo
iface lo inet loopback

# Physical interface
auto {{ public_interface }}
iface {{ public_interface }} inet manual

# Bridge for public network
auto vmbr0
iface vmbr0 inet static
	address {{ public_ip }}
	gateway {{ gateway }}
	bridge-ports {{ public_interface }}
	bridge-stp off
	bridge-fd 0
	# {{ bridges.vmbr0.comment }}

{% for bridge_name, bridge_config in bridges.items() %}
{% if bridge_name != 'vmbr0' %}
# {{ bridge_config.comment }}
auto {{ bridge_name }}
iface {{ bridge_name }} inet static
	address {{ bridge_config.address }}
	bridge-ports none
	bridge-stp {{ bridge_config.bridge_stp }}
	bridge-fd {{ bridge_config.bridge_fd }}

{% endif %}
{% endfor %}

# IPv6 configuration
iface {{ public_interface }} inet6 static
	address 2a01:4f9:3051:4052::2/64
	gateway fe80::1